{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "width": {
      "type": "integer",
      "description": "样本宽度"
    },
    "height": {
      "type": "integer",
      "description": "样本高度"
    },
    "rotate": {
      "type": "integer",
      "description": "样本旋转角度"
    },
    "annotations": {
      "type": "array",
      "description": "标注信息",
      "items": {
        "anyOf": [
          {
            "type": "object",
            "properties": {
              "toolName": {
                "type": "string",
                "const": "pointTool",
                "default": "pointTool"
              },
              "result": {
                "description": "标注结果",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/PointTool"
                }
              }
            },
            "required": ["toolName", "result"]
          },
          {
            "type": "object",
            "properties": {
              "toolName": {
                "type": "string",
                "const": "rectTool",
                "default": "rectTool"
              },
              "result": {
                "description": "标注结果",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/RectTool"
                }
              }
            },
            "required": ["toolName", "result"]
          },
          {
            "type": "object",
            "properties": {
              "toolName": {
                "type": "string",
                "const": "polygonTool",
                "default": "polygonTool"
              },
              "result": {
                "description": "标注结果",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/PolygonTool"
                }
              }
            },
            "required": ["toolName", "result"]
          },
          {
            "type": "object",
            "properties": {
              "toolName": {
                "type": "string",
                "const": "lineTool",
                "default": "lineTool"
              },
              "result": {
                "description": "标注结果",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/LineTool"
                }
              }
            },
            "required": ["toolName", "result"]
          },
          {
            "type": "object",
            "properties": {
              "toolName": {
                "type": "string",
                "const": "cuboidTool",
                "default": "cuboidTool"
              },
              "result": {
                "description": "标注结果",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/CuboidTool"
                }
              }
            },
            "required": ["toolName", "result"]
          },
          {
            "type": "object",
            "properties": {
              "toolName": {
                "type": "string",
                "const": "textTool",
                "default": "textTool"
              },
              "result": {
                "description": "标注结果",
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "唯一标识"
                    },
                    "type": {
                      "type": "string",
                      "const": "text",
                      "description": "文本类型: text（文本）"
                    },
                    "value": {
                      "type": "object",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "description": "文本内容"
                    }
                  }
                }
              }
            },
            "required": ["toolName", "result"]
          },
          {
            "type": "object",
            "properties": {
              "toolName": {
                "type": "string",
                "const": "tagTool",
                "default": "tagTool"
              },
              "result": {
                "description": "标注结果",
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "唯一标识"
                    },
                    "type": {
                      "type": "string",
                      "const": "tag"
                    },
                    "value": {
                      "type": "object",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            },
            "required": ["toolName", "result"]
          }
        ]
      }
    }
  },
  "required": ["id", "result", "url", "folder", "fileName"],
  "definitions": {
    "PointTool": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "唯一标识"
        },
        "x": {
          "type": "number",
          "description": "x坐标"
        },
        "y": {
          "type": "number",
          "description": "y坐标"
        },
        "visible": {
          "type": "boolean",
          "description": "是否可见",
          "default": true
        },
        "attributes": {
          "type": "object",
          "description": "类别属性，键值对",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          }
        },
        "order": {
          "type": "integer",
          "description": "标注顺序",
          "minimum": 0
        },
        "label": {
          "type": "string",
          "description": "标注类别"
        }
      },
      "required": ["x", "y", "id", "order", "label"]
    },
    "LineTool": {
      "title": "Generated schema for Root",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "唯一标识"
        },
        "lineType": {
          "type": "string",
          "description": "线条类型: line（直线），spline（曲线）",
          "default": "line",
          "enum": ["line", "spline"]
        },
        "controlPoints": {
          "type": "array",
          "description": "控制点列表",
          "items": {
            "$ref": "#/definitions/Point"
          }
        },
        "points": {
          "type": "array",
          "description": "线条点列表",
          "items": {
            "$ref": "#/definitions/Point"
          }
        },
        "visible": {
          "type": "boolean",
          "description": "是否可见"
        },
        "attributes": {
          "type": "object",
          "description": "类别属性，键值对",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          }
        },
        "order": {
          "type": "number",
          "description": "标注顺序"
        },
        "label": {
          "type": "string",
          "description": "标注类别"
        }
      },
      "required": ["lineType", "points", "id", "", "order", "label"]
    },
    "PolygonTool": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "唯一标识"
        },
        "lineType": {
          "type": "string",
          "description": "线条类型: line（直线），spline（曲线）",
          "default": "line",
          "enum": ["line", "spline"]
        },
        "controlPoints": {
          "type": "array",
          "description": "控制点列表",
          "items": {
            "$ref": "#/definitions/Point"
          }
        },
        "points": {
          "type": "array",
          "description": "线条点列表",
          "items": {
            "$ref": "#/definitions/Point"
          }
        },
        "visible": {
          "type": "boolean",
          "description": "是否可见",
          "default": true
        },
        "attributes": {
          "type": "object",
          "description": "类别属性，键值对",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          }
        },
        "order": {
          "type": "integer",
          "description": "标注顺序",
          "minimum": 0
        },
        "label": {
          "type": "string",
          "description": "标注类别"
        }
      },
      "required": ["lineType", "points", "x", "y", "width", "height", "id", "order", "label"]
    },
    "RectTool": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "唯一标识"
        },
        "x": {
          "type": "number",
          "description": "拉框左上角x坐标"
        },
        "y": {
          "type": "number",
          "description": "拉框左上角y坐标"
        },
        "width": {
          "type": "number",
          "description": "拉框宽度"
        },
        "height": {
          "type": "number",
          "description": "拉框高度"
        },
        "visible": {
          "type": "boolean",
          "description": "是否可见",
          "default": true
        },
        "attributes": {
          "type": "object",
          "description": "类别属性，键值对",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          }
        },
        "order": {
          "type": "integer",
          "description": "标注顺序",
          "minimum": 0
        },
        "label": {
          "type": "string",
          "description": "标注类别"
        }
      },
      "required": ["x", "y", "width", "height", "id", "order", "label"]
    },
    "CuboidTool": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "唯一标识"
        },
        "direction": {
          "type": "string",
          "description": "正面方向: front（前面），back（后面），left（左侧面），right（右侧面）",
          "default": "front"
        },
        "front": {
          "type": "object",
          "description": "正面四个点坐标",
          "properties": {
            "tl": {
              "type": "object",
              "description": "左上角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            },
            "tr": {
              "type": "object",
              "description": "右上角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            },
            "br": {
              "type": "object",
              "description": "右下角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            },
            "bl": {
              "type": "object",
              "description": "左下角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            }
          },
          "required": ["tl", "tr", "br", "bl"]
        },
        "back": {
          "type": "object",
          "description": "背面四个点坐标",
          "properties": {
            "tl": {
              "type": "object",
              "description": "左上角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            },
            "tr": {
              "type": "object",
              "description": "右上角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            },
            "br": {
              "type": "object",
              "description": "右下角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            },
            "bl": {
              "type": "object",
              "description": "左下角坐标",
              "properties": {
                "x": {
                  "type": "number"
                },
                "y": {
                  "type": "number"
                }
              },
              "required": ["x", "y"]
            }
          },
          "required": ["tl", "tr", "br", "bl"]
        },
        "visible": {
          "type": "boolean",
          "description": "是否可见",
          "default": true
        },
        "attributes": {
          "type": "object",
          "description": "类别属性，键值对",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          }
        },
        "order": {
          "type": "integer",
          "description": "标注顺序",
          "minimum": 0
        },
        "label": {
          "type": "string",
          "description": "标注类别"
        }
      },
      "required": ["direction", "front", "back", "x", "y", "width", "height", "id", "order", "label"]
    },
    "TextTool": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "唯一标识"
          },
          "type": {
            "type": "string",
            "const": "text",
            "description": "文本类型: text（文本）"
          },
          "value": {
            "type": "object",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                }
              ]
            },
            "description": "文本内容"
          }
        }
      }
    },
    "TagTool": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "唯一标识"
          },
          "type": {
            "type": "string",
            "const": "tag"
          },
          "value": {
            "type": "object",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ]
            }
          }
        }
      }
    },
    "Attribute": {
      "type": "object",
      "description": "类别属性，键值对",
      "additionalProperties": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        ]
      }
    },
    "Point": {
      "type": "object",
      "properties": {
        "x": {
          "type": "number",
          "description": "x坐标"
        },
        "y": {
          "type": "number",
          "description": "y坐标"
        }
      },
      "required": ["x", "y"]
    }
  }
}
